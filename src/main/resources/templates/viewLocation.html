<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/webjars/leaflet/1.7.1/dist/leaflet.css}" />
    <style>
        body {
            background-color: #333; /* Dark background color */
            color: #fff; /* Light text color */
            display: flex;
            justify-content: center;
            align-items: center; 
        }

        #map {
            height: 500px;
            width: 500px;
            border-radius: 15px; 
            /* overflow: hidden;  */
        }
    </style>
     
    <title>Bus Tracking System</title>
</head>
<body>
    <!-- <h3 th:text="${buslocation.id}"></h3>
    <h3 th:text="${buslocation.latitude}"></h3>
    <h3 th:text="${buslocation.longitude}"></h3> -->
    <div id = "map"></div>
    
    
    <script th:src="@{/webjars/leaflet/1.7.1/dist/leaflet.js}"></script>
    <script th:inline="javascript">
        
        var latitude = /*[[${buslocation.latitude}]]*/ 37.7749; 
        var longitude = /*[[${buslocation.longitude}]]*/ -122.4194;

        var map = L.map('map').setView([latitude, longitude], 14); //ideal zoom = 16

        var marker = L.marker([latitude, longitude]).addTo(map);
        
        //Dark Theme->'https://{s}.basemaps.cartocdn.com/dark_all/{z}/{x}/{y}{r}.png'
        L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
            attribution: 'Bus Tracking System'
        }).addTo(map);

        // var pathCoordinates = [
        //     [37.7749, -122.4194],
        //     [37.7849, -122.4194],
        //     [37.7849, -122.4294],
        //     [37.7749, -122.4294]
        // ];

        // // Create a polyline and add it to the map
        // var path = L.polyline(pathCoordinates, { color: 'red' }).addTo(map);

        // // Optional: Fit the map bounds to the path
        // map.fitBounds(path.getBounds());
    </script>
</body>
</html>